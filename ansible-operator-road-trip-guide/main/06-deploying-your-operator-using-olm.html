<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deploy your operator with the Operator Lifecycle Manager :: Ansible Operator Road Trip Guide</title>
    <link rel="canonical" href="https://atarazana.github.io/ansible-operator-road-trip-guide/ansible-operator-road-trip-guide/main/06-deploying-your-operator-using-olm.html">
    <link rel="prev" href="05-running-your-operator-locally.html">
    <link rel="next" href="07-evolving-your-operator.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img
          src="../../_/img/header_logo.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://atarazana.github.io/ansible-operator-road-trip-guide">Ansible Operator Road Trip Guide</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
        <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-scholars.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-scholars.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-scholars.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ansible-operator-road-trip-guide" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html" class=" query-params-link">Ansible Operator Road Trip</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-setup-tools.html">Setup Tools</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup-tools.html#resources">Resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup-tools.html#prerequisite">Prerequisites</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-setup-project.html">Setup Project</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-setup-project.html#login-to-registry">Login to registry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-setup-project.html#define-envvars">Define environment variables</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-setup-project.html#create-project-folder">Create the operator project</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-building-your-1st-operator.html">Building your 1st operator</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-building-your-1st-operator.html#create-operator-scaffold">Create the operator scaffold</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-building-your-1st-operator.html#create-an-api">Create an API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-building-your-1st-operator.html#setup-python-venv">Setup a Python venv</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-building-your-1st-operator.html#init-repo">Init the git repo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-building-your-1st-operator.html#enhance-your-makefile">Enhance your Makefile</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-building-your-1st-operator.html#configuring-operator">Configuring operator</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03-building-your-1st-operator.html#adding-permissions-on-configmaps">Adding permissions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03-building-your-1st-operator.html#updating-categories">Updating categories</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03-building-your-1st-operator.html#updating-install-modes">Updating install modes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-building-your-1st-operator.html#coding-0.0.1">Coding v0.0.1</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03-building-your-1st-operator.html#adding-actual-code">Adding Actual Code</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="03-building-your-1st-operator.html#defining-crd">Defining the CRD (API)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="04-deploying-your-operator-manually.html">Deploy your operator manually</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-deploying-your-operator-manually.html#running-as-a-deployment">Running as a deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-deploying-your-operator-manually.html#checking-out-the-deployment">Checking out the deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-deploying-your-operator-manually.html#create-a-cr">Create an instance of our CR</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="05-running-your-operator-locally.html">Running your operator locally</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="06-deploying-your-operator-using-olm.html">Deploy your operator with the Operator Lifecycle Manager</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#create-a-bunde-and-image">Create a bundle and its corresponding image</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#create-bundle-index">Creating the Bundle Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#install-olm">Install OLM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#deploy-catalog-source">Deploy a CatalogSource pointing to Bundle Index 0.0.1</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#catalogsource-testing">CatalogSource Testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#install-operator-with-kubectl-plugin">Install your operator with a kubectl plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#create-cr">Create an AppDefinition CR</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="07-evolving-your-operator.html">Evolving your operator</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-evolving-your-operator.html#updating-the-code">Updating the code</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-evolving-your-operator.html#testing-the-new-code">Testing the new code</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-evolving-your-operator.html#running-as-normal-deployment">Running v0.0.2 as a normal deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-evolving-your-operator.html#create-new-bundle">Create a new operator bundle and it’s corresponding image for version <code>0.0.2</code></a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="07-evolving-your-operator.html#create-and-push-new-bundle-index">Create and push the new Bundle Index (<code>0.0.2</code>)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="07-evolving-your-operator.html#update-catalog-source">Update the CatalogSource to point to the new Bundle Index</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="07-evolving-your-operator.html#final-tests">Final tests</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="08-annexes.html">Annexes</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Ansible Operator Road Trip</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Ansible Operator Road Trip</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Ansible Operator Road Trip</a></li>
    <li><a href="06-deploying-your-operator-using-olm.html">Deploy your operator with the Operator Lifecycle Manager</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/atarazana/ansible-operator-road-trip-guide/edit/main/documentation/modules/ROOT/pages/06-deploying-your-operator-using-olm.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Deploy your operator with the Operator Lifecycle Manager</h1>
<div class="sect1">
<h2 id="create-a-bunde-and-image"><a class="anchor" href="#create-a-bunde-and-image"></a>Create a bundle and its corresponding image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First things first… <strong>What’s a bundle?</strong></p>
</div>
<div class="quoteblock">
<div class="title"><strong>From the original <a href="https://github.com/operator-framework/operator-registry#manifest-format">documentation</a> of the Operator Framework</strong></div>
<blockquote>
<div class="paragraph">
<p><strong>We refer to a directory of files with one <code>ClusterServiceVersion</code> as a <code>bundle</code></strong>. A bundle <strong>typically includes</strong> a <strong>ClusterServiceVersion and the CRDs</strong> that define the owned APIs of the CSV in its manifest directory, though additional objects may be included. <strong>It also includes an annotations file in its metadata folder which defines some higher level aggregate data</strong> that helps to describe the format and package information about how the bundle should be added into an index of bundles.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="https://github.com/operator-framework">Operator Framework</a><br>
<cite><a href="https://github.com/operator-framework/operator-registry#manifest-format">Manifest Format</a></cite>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>Example bundle</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"> etcd
 ├── manifests
 │   ├── etcdcluster.crd.yaml
 │   └── etcdoperator.clusterserviceversion.yaml
 └── metadata
     └── annotations.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>So a bundle is a bunch of files that define the operator and how to run it, it includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Cluster Service Version:</strong> in its turn includes</p>
<div class="ulist">
<ul>
<li>
<p>Name, examples, capabilities, …</p>
</li>
<li>
<p>Permissions (Role), Cluster Permissions (ClusterRole)</p>
</li>
<li>
<p>Reference to CRDs owned by the operator</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>CRD:</strong> Definition of the CRDs owned by the operator</p>
</li>
<li>
<p><strong>Annotations:</strong> annotations that describe the bundle and how it’s organized</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>How do you make a bundle?</strong></p>
</div>
<div class="paragraph">
<p>As mostly everything since Operator SDK 1.0.0 there’s a makefile target for it. And you guessed well you run it with <code>make bundle</code>. So go to the terminal window, make sure the environment is loaded and run:</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Before running the command have a look to the output bellow and prepare some nice answers to the questions asked while running the target. No worries, you can change those later if you need to.
</td>
</tr>
</table>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make bundle</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example output:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">go: creating new go.mod: module tmp
go: finding sigs.k8s.io/controller-tools/cmd v0.3.0
go: finding sigs.k8s.io v0.3.0
go: finding sigs.k8s.io/controller-tools/cmd/controller-gen v0.3.0
/Users/johndoe/go/bin/controller-gen "crd:trivialVersions=true" rbac:roleName=manager-role webhook paths="./..." output:crd:artifacts:config=config/crd/bases
operator-sdk generate kustomize manifests -q

Display name for the operator (required):
&gt; Minerva

Description for the operator (required):
&gt; Deploys a Memcached cluster

Provider s name for the operator (required):
&gt; Atarazana Inc.

Any relevant URL for the provider name (optional):
&gt; https://es.wikipedia.org/wiki/Astillero_naval

Comma-separated list of keywords for your operator (required):
&gt; minerva,architecture,deployment

Comma-separated list of maintainers and their emails (e.g. 'name1:email1, name2:email2') (required):
&gt; admin@atarazana.com
cd config/manager &amp;&amp; /usr/local/bin/kustomize edit set image controller=quay.io/{reg_username}/minerva-operator-image:v0.0.1
/usr/local/bin/kustomize build config/manifests | operator-sdk generate bundle -q --overwrite --version 0.0.1
INFO[0000] Building annotations.yaml
INFO[0000] Writing annotations.yaml in /Users/johndoe/operators/minerva-operator/bundle/metadata
INFO[0000] Building Dockerfile
INFO[0000] Writing bundle.Dockerfile in /Users/johndoe/operators/minerva-operator
operator-sdk bundle validate ./bundle
INFO[0000] Found annotations file                        bundle-dir=bundle container-tool=docker
INFO[0000] Could not find optional dependencies file     bundle-dir=bundle container-tool=docker
INFO[0000] All validation tests have completed successfully</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now have a look to the generated folder <code>./bundle</code>.</p>
</div>
<div class="paragraph">
<p>Also have a look to
<code>./config/manifests/base/minerva-operator.clusterserviceversion.yaml</code> this file is a template and is where you should make changes to <code>name</code>, <code>description</code>, <code>icon</code>, etc.</p>
</div>
<div class="paragraph">
<p>For instance edit the file <code>minerva-operator.clusterserviceversion.yaml</code> and change <code>spec.description</code> with the proposed text.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Indentation is critical here… don’t tell me I didn’t tell you ;-)
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">spec:
  description: |
    Minerva was the artisans' and architects' Godess, here just a sample operator that deploys Memcached.
    [Memcached](https://en.wikipedia.org/wiki/Memcached) is a cache system.

    ### This is just a sample operator
    This operator deploy memcached pods by creating a Deployment object. The code of the operator is [here](https://github.com/atarazana/minerva-operator).

    ### Supported Features
    **Install**</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also change <code>spec&#8594;icon&#8594;base64data</code> as follows (one line):</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"> "PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTE1OS42NzQgMTY4LjkwNWgyODAuOTQzdjEyMi43ODJoLTI4MC45NDN6IiBmaWxsPSIjMmI0ZDY2Ii8+PHBhdGggZD0ibTQ0NC4yOSAyODYuNTM1IDcuNDYzIDU4LjQ2NWM1LjExMiA0MC4wNDUtMjYuMDkgNzUuNDgzLTY2LjQ2IDc1LjQ4M2gtMTcwLjMwNWMtNDAuMzcgMC03MS41NzItMzUuNDM4LTY2LjQ2LTc1LjQ4M2w3LjQ2My01OC40NjQiIGZpbGw9IiMzNjVlN2QiLz48cGF0aCBkPSJtMjg4Ljk4NiA0MjAuNDgzaC03My45OThjLTQwLjM3MyAwLTcxLjU2Ny0zNS40MzgtNjYuNDU3LTc1LjQ4MWw3LjQ1OC01OC40NjNoNzMuOTk4bC03LjQ1OCA1OC40NjNjLTUuMTA5IDQwLjA0MyAyNi4wODQgNzUuNDgxIDY2LjQ1NyA3NS40ODF6IiBmaWxsPSIjMmI0ZDY2Ii8+PGc+PHBhdGggZD0ibTQzMS4zMzQgNTEyaC02Ni43NTZsLTQzLjM5MS0xMi43OTUtOTQuNTE5IDEyLjc5NWgtNTcuNzIxYzIxLjE4LTM1Ljc5OSA1Ni41NzctNjIuMTgyIDk4LjQ0NC03MS4zNS4yMzctLjA1Mi40ODQtLjEwMy43MjEtLjE1NXYtNTUuNTE2aDY0LjA2N3Y1NS41MTZjLjI0Ny4wNTIuNDk0LjEwMy43MzEuMTY1IDcuODUgMS43MiAxNS40NjMgNC4wMzggMjIuODA4IDYuOTIzIDMuODc0IDEuNTE0LTIuNjE3IDEzLjQ4NSAxLjA5MiAxNS4yOTggMy4zMTcgMS42MjggMTYuODY0LTYuOTEzIDIwLjA0Ny01LjA1OCAyMi40NDkgMTMuMTE0IDQxLjIzOSAzMS44MDEgNTQuNDc3IDU0LjE3N3oiIGZpbGw9IiNmZmRkY2UiLz48cGF0aCBkPSJtMzMyLjE3OSAzODQuOTc5djI2LjMyMWMtNy4yNzMgMS40ODMtMTQuODA0IDIuMjY2LTIyLjUyIDIuMjY2aC0xOS4wMjdjLTcuNzE2IDAtMTUuMjQ3LS43ODMtMjIuNTItMi4yNjZ2LTI2LjMyMXoiIGZpbGw9IiNmZmNiYmUiLz48cGF0aCBkPSJtMzc5LjY0MSA0NTkuNDgxdi4wMWwtMTUuMDYxIDUyLjUwOWgtMTM3LjkxbDEyOS4xODUtNjQuMzY2YzguMzEzIDMuMjY2IDE2LjI2NiA3LjI0MiAyMy43ODYgMTEuODQ3eiIgZmlsbD0iI2UwNGI2NiIvPjxwYXRoIGQ9Im0yODIuMjA4IDM4NC45Nzl2NTUuNTE2Yy0yMy42MjIgOS4wMjQtNDMuNjA4IDM1LjUtNTUuNTM3IDcxLjUwNWgtNTcuNzIxYzIxLjMwNC0zNi4wMDUgNTYuOTktNjIuNDggOTkuMTY1LTcxLjUwNXYtNTUuNTE2eiIgZmlsbD0iI2ZmY2JiZSIvPjwvZz48cGF0aCBkPSJtNDQwLjYxOSAxNjguOTA4djEzLjkyOGwtMTQwLjQ2NS0zNi4xOC0xNDAuNDc1IDM2LjE4di0xMy45MjhjMC0xMy4zNDEgMS44NjUtMjYuMjQ5IDUuMzQ3LTM4LjQ3NyAxLjM4LTQuODgzIDMuMDI5LTkuNjYzIDQuOTE0LTE0LjMyIDIwLjg3MS01MS40MTYgNzEuMzA5LTg3LjY3OSAxMzAuMjA1LTg3LjY3OWguMDFjNTguODk2IDAgMTA5LjMzMyAzNi4yNjIgMTMwLjIwNSA4Ny42NzkgMS44ODUgNC42NTYgMy41MzQgOS40MzYgNC45MjQgMTQuMzMgMy40NyAxMi4yMjkgNS4zMzUgMjUuMTI3IDUuMzM1IDM4LjQ2N3oiIGZpbGw9IiNmZmMyNTAiLz48cGF0aCBkPSJtMzQyLjc5OSAzNS4wMjJjLTU2LjczMiAxOC4wNDktOTcuODI2IDcxLjE2NS05Ny44MjYgMTMzLjg4MmgtODUuMjk5YzAtNzcuNTgzIDYyLjg5Mi0xNDAuNDc1IDE0MC40NzUtMTQwLjQ3NSAxNC44NjYgMCAyOS4xOTYgMi4zMDggNDIuNjUgNi41OTN6IiBmaWxsPSIjZTdhNTJlIi8+PGcgZmlsbD0iI2ZmY2JiZSI+PGNpcmNsZSBjeD0iMTU4LjQ3MyIgY3k9IjI3Mi44ODQiIHI9IjQwLjgwOCIvPjxjaXJjbGUgY3g9IjQ0MS44MTUiIGN5PSIyNzIuODg0IiByPSI0MC44MDgiLz48L2c+PHBhdGggZD0ibTE4NC4wNjggMjgzLjg4Yy0yLjcxNCAwLTUuMzQ3LTEuNDMzLTYuNzYtMy45NzMtMi4zNzUtNC4yNzEtNi40MjMtNi42NzgtMTIuMzc1LTcuMzU5LTUuMjIzLS41OTctOS43ODcuNDU1LTkuODMzLjQ2NS00LjE0MS45NzYtOC4zMDYtMS41NzYtOS4zLTUuNzExLS45OTMtNC4xMzUgMS41MjItOC4yOTEgNS42NTItOS4zMDQuNjkyLS4xNyA2Ljk3Ny0xLjYzNSAxNC42NTctLjg2NSAxMS4yMzUgMS4xMjkgMTkuNzc4IDYuNDA3IDI0LjcwNCAxNS4yNjQgMi4wNzQgMy43MjkuNzMyIDguNDM0LTIuOTk3IDEwLjUwOC0xLjE4OS42Ni0yLjQ3OC45NzUtMy43NDguOTc1eiIgZmlsbD0iI2VhYWM5ZCIvPjxwYXRoIGQ9Im00MTYuMjIgMjgzLjg4Yy0xLjI3MSAwLTIuNTU5LS4zMTQtMy43NDgtLjk3NS0zLjcyOS0yLjA3NC01LjA3MS02Ljc3OS0yLjk5Ny0xMC41MDggNC45MjYtOC44NTcgMTMuNDY5LTE0LjEzNSAyNC43MDQtMTUuMjY0IDcuNjc3LS43NzEgMTMuOTY1LjY5NSAxNC42NTcuODY1IDQuMTQ0IDEuMDE3IDYuNjc5IDUuMjAxIDUuNjYyIDkuMzQ1LTEuMDE1IDQuMTM0LTUuMTggNi42NjctOS4zMTQgNS42Ny0uMTU0LS4wMzUtNC42NzItMS4wNTYtOS44MjktLjQ2NC01Ljk1Mi42ODEtOS45OTkgMy4wODktMTIuMzc1IDcuMzYtMS40MTMgMi41MzgtNC4wNDYgMy45Ny02Ljc2IDMuOTcxeiIgZmlsbD0iI2VhYWM5ZCIvPjxwYXRoIGQ9Im00MjEuMzcyIDIzNS45MTJ2NDAuMjM5YzAgNjEuNjk3LTUwLjAxNSAxMTEuNzEzLTExMS43MTMgMTExLjcxM2gtMTkuMDI3Yy02MS42OTcgMC0xMTEuNzIzLTUwLjAxNS0xMTEuNzIzLTExMS43MTN2LTQwLjIzOWw2LjU3My0xNC41MDUgNS4wNjgtMTEuMTU3YzQuNTg0LTEwLjEwNiAxMS45MDktMTguNDA5IDIwLjg3MS0yNC4xODkgOC45NjMtNS43NzkgMTkuNTUzLTkuMDI0IDMwLjY1OC05LjAyNCAyNC44NjkgMCA0Ni44MzItMTYuMjQ2IDU0LjEwNS00MC4wMjJsMy45NjYtMTIuOTggMy45NTYgMTIuOThjMy42MzcgMTEuODg4IDEwLjk0IDIxLjg5MSAyMC40NDkgMjguOTI3czIxLjIxMSAxMS4wOTUgMzMuNjU2IDExLjA5NWMyMi4yMTEgMCA0Mi4zNjEgMTIuOTkxIDUxLjUzIDMzLjIxM2w1LjA1OCAxMS4xNTd6IiBmaWxsPSIjZmZkZGNlIi8+PHBhdGggZD0ibTQxNC44IDIyMS40MDctMTE0LjY0OS0yOS41MjUtMTE0LjY2OSAyOS41MjUgNS4wNjgtMTEuMTU3YzQuNTg0LTEwLjEwNiAxMS45MDktMTguNDA5IDIwLjg3MS0yNC4xODkgOC45NjMtNS43NzkgMTkuNTUzLTkuMDI0IDMwLjY1OC05LjAyNCAyNC44NjkgMCA0Ni44MzItMTYuMjQ2IDU0LjEwNS00MC4wMjJsMy45NjYtMTIuOTggMy45NTYgMTIuOThjMy42MzcgMTEuODg4IDEwLjk0IDIxLjg5MSAyMC40NDkgMjguOTI3czIxLjIxMSAxMS4wOTUgMzMuNjU2IDExLjA5NWMyMi4yMTEgMCA0Mi4zNjEgMTIuOTkxIDUxLjUzIDMzLjIxM3oiIGZpbGw9IiNmZmNiYmUiLz48cGF0aCBkPSJtMzMzLjYzNyAzODUuMjc5Yy03LjcxNiAxLjctMTUuNzQxIDIuNTg2LTIzLjk3MiAyLjU4NmgtMTkuMDM3Yy02MS42OTcgMC0xMTEuNzIyLTUwLjAxNS0xMTEuNzIyLTExMS43MTF2LTQwLjIzOGwxMS42NDEtMjUuNjYyYzQuNTg0LTEwLjEwNiAxMS45MDktMTguNDA5IDIwLjg3MS0yNC4xODhzMTkuNTUzLTkuMDI0IDMwLjY1OC05LjAyNGMxLjI3NyAwIDIuNTQ0LS4wNDEgMy44MTItLjEyNHY5OS4yMzZjLS4wMDEgNTMuNDY1IDM3LjU2OSA5OC4xNjQgODcuNzQ5IDEwOS4xMjV6IiBmaWxsPSIjZmZjYmJlIi8+PGcgZmlsbD0iIzJiNGQ2NiI+PHBhdGggZD0ibTI0Mi41NjIgMjM3LjA2OWMtMi45MjQgMC01LjYyNiAxLjI5Mi03Ljg0IDMuNDYybC01LjEwOS0zLjYzNWMtMy40NzctMi40NzMtOC4zMDEtMS42Ni0xMC43NzUgMS44MTctMi40NzMgMy40NzctMS42NiA4LjMwMSAxLjgxNyAxMC43NzVsOC4zOTMgNS45NzFjMCAuMDQ0LS4wMDUuMDg3LS4wMDUuMTMyIDAgMTAuMjEzIDYuMDY0IDE4LjUyMSAxMy41MTkgMTguNTIxczEzLjUxOS04LjMwOCAxMy41MTktMTguNTIxLTYuMDY0LTE4LjUyMi0xMy41MTktMTguNTIyeiIvPjxwYXRoIGQ9Im0zODEuNDUgMjM4LjcxM2MtMi40NzQtMy40NzctNy4yOTgtNC4yOS0xMC43NzUtMS44MTdsLTUuMTA5IDMuNjM1Yy0yLjIxNC0yLjE3LTQuOTE2LTMuNDYyLTcuODQtMy40NjItNy40NTQgMC0xMy41MTkgOC4zMDktMTMuNTE5IDE4LjUyMnM2LjA2NCAxOC41MjEgMTMuNTE5IDE4LjUyMSAxMy41MTktOC4zMDggMTMuNTE5LTE4LjUyMWMwLS4wNDUtLjAwNS0uMDg3LS4wMDUtLjEzMmw4LjM5My01Ljk3MWMzLjQ3Ny0yLjQ3NCA0LjI5LTcuMjk4IDEuODE3LTEwLjc3NXoiLz48L2c+PHBhdGggZD0ibTI1OS45NDIgMjE4LjMzOGMtMS45NzcgMC0zLjk1NS0uNzU0LTUuNDYzLTIuMjYzLTIuOTctMi45Ny02LjkxNy00LjYwNS0xMS4xMTctNC42MDVzLTguMTQ3IDEuNjM1LTExLjExNyA0LjYwNWMtMy4wMTcgMy4wMTctNy45MDkgMy4wMTgtMTAuOTI3IDAtMy4wMTctMy4wMTctMy4wMTgtNy45MDkgMC0xMC45MjcgNS44ODgtNS44ODggMTMuNzE2LTkuMTMxIDIyLjA0NC05LjEzMSA4LjMyNyAwIDE2LjE1NiAzLjI0MyAyMi4wNDQgOS4xMzEgMy4wMTggMy4wMTggMy4wMTcgNy45MDkgMCAxMC45MjctMS41MSAxLjUwOC0zLjQ4NyAyLjI2My01LjQ2NCAyLjI2M3oiIGZpbGw9IiNlYWFjOWQiLz48cGF0aCBkPSJtMzc0LjY3MyAyMTguMzM4Yy0xLjk3NyAwLTMuOTU1LS43NTUtNS40NjMtMi4yNjMtMi45Ny0yLjk2OS02LjkxOC00LjYwNS0xMS4xMTctNC42MDUtNC4yIDAtOC4xNDggMS42MzYtMTEuMTE4IDQuNjA1LTMuMDE3IDMuMDE3LTcuOTA5IDMuMDE3LTEwLjkyNyAwcy0zLjAxOC03LjkwOSAwLTEwLjkyN2MxMi4xNTUtMTIuMTU0IDMxLjkzMy0xMi4xNTUgNDQuMDg4IDAgMy4wMTggMy4wMTcgMy4wMTggNy45MDkgMCAxMC45MjctMS41MDkgMS41MDgtMy40ODYgMi4yNjMtNS40NjMgMi4yNjN6IiBmaWxsPSIjZWFhYzlkIi8+PHBhdGggZD0ibTMwMC4xNDEgMzE0Ljk3NmMtMTQuMjY4IDAtMjcuMDc3LTkuNTQxLTMxLjE1LTIzLjIwMy0xLjIxOS00LjA5IDEuMTA4LTguMzkzIDUuMTk3LTkuNjEyIDQuMDg4LTEuMjE5IDguMzkyIDEuMTA4IDkuNjEyIDUuMTk3IDIuMTM1IDcuMTYzIDguODU2IDEyLjE2NSAxNi4zNDIgMTIuMTY1IDcuNDk1IDAgMTQuMjE0LTQuOTk5IDE2LjMzOS0xMi4xNTcgMS4yMTUtNC4wOTEgNS41MTYtNi40MjIgOS42MDYtNS4yMDggNC4wOTEgMS4yMTUgNi40MjIgNS41MTYgNS4yMDggOS42MDYtNC4wNiAxMy42NjgtMTYuODcgMjMuMjEyLTMxLjE1NCAyMy4yMTJ6IiBmaWxsPSIjZWFhNTk4Ii8+PHBhdGggZD0ibTQ0MC42MTkgMTY4LjkwOHYxMy45MjhsLTE0MC40NjUtMzYuMTgtMTQwLjQ3NSAzNi4xOHYtMTMuOTI4YzAtMTMuMzQxIDEuODY1LTI2LjI0OSA1LjM0Ny0zOC40NzdsOC42NjQtNC4xMSAxNS40NTMtNy4zMzUgMzIuMzc5LTE1LjM4MSAxNS40NTMtNy4zMzUgNTUuNDU1LTI2LjMzMSA3LjcxNi0zLjY2OCA3LjczNyAzLjY3OCA1NS40NDQgMjYuMzIxIDE1LjQ1MyA3LjMzNSAzMi4zNzkgMTUuMzgxLjE5Ni4wOTMgMTUuMjU3IDcuMjQyIDguNjc0IDQuMTIxYzMuNDY4IDEyLjIyOCA1LjMzMyAyNS4xMjYgNS4zMzMgMzguNDY2eiIgZmlsbD0iI2U3YTUyZSIvPjxwYXRoIGQ9Im00NTIuMjcgMTQ5LjEyOXY1OS4zMThsLTI1LjY2Mi02LjYxNC0xNS40NTItMy45NzYtMzIuMzc5LTguMzM1LTE1LjQ1My0zLjk4Ni01NS40NDQtMTQuMjc5LTcuNzM3LTEuOTg4LTcuNzE2IDEuOTg4LTU1LjQ1NCAxNC4yNzktMTUuNDUzIDMuOTg2LTMyLjM3OSA4LjMzNS0xNS40NTIgMy45NzYtMjUuNjYyIDYuNjE0di01OS4zMThsMjUuNjYyLTEyLjE4NyAxNS40NTItNy4zMzUgMzIuMzc5LTE1LjM4MSAxNS40NTMtNy4zMzQgNTUuNDU0LTI2LjMzMiA3LjcxNi0zLjY2NyA3LjczNyAzLjY3NyA1NS40NDQgMjYuMzIyIDE1LjQ1MyA3LjMzNCAzMi4zNzkgMTUuMzgxLjE5NS4wOTMgMTUuMjU3IDcuMjQyeiIgZmlsbD0iI2ZmYzI1MCIvPjxwYXRoIGQ9Im0zMjkuODc3IDBoLTU5LjQ2M2MtMTAuMDY1IDAtMTcuNTA3IDkuMzczLTE1LjIyNSAxOS4xNzZsNC43OTQgMjAuNTk3YzIuMzMgMTAuMDEgMTEuMjUxIDE3LjA5MyAyMS41MjkgMTcuMDkzaDM3LjI2N2MxMC4yNzcgMCAxOS4xOTktNy4wODMgMjEuNTI5LTE3LjA5M2w0Ljc5NC0yMC41OTdjMi4yODItOS44MDMtNS4xNi0xOS4xNzYtMTUuMjI1LTE5LjE3NnoiIGZpbGw9IiNlMDRiNjYiLz48cGF0aCBkPSJtMzEwLjI5NiA1Ni44NjZoLTI4Ljc4M2MtMTAuMjcxIDAtMTkuMTkyLTcuMDg4LTIxLjUzMS0xNy4wOTFsLTQuNzktMjAuNjA0Yy0yLjI3Ny05Ljc5NiA1LjE2MS0xOS4xNzEgMTUuMjI2LTE5LjE3MWgyOC43NzNjLTEwLjA2NSAwLTE3LjUwMyA5LjM3NS0xNS4yMjYgMTkuMTcybDQuODAxIDIwLjYwNGMyLjMyNyAxMC4wMDIgMTEuMjQ5IDE3LjA5IDIxLjUzIDE3LjA5eiIgZmlsbD0iI2RlMWQ0OSIvPjxnIGZpbGw9IiNlN2E1MmUiPjxwYXRoIGQ9Im0xODkuMTQxIDEyOS42MDd2NjguMjVsLTE1LjQ1MiAzLjk3NnYtNjQuODkxbDUuMjM5LTcuMjk1eiIvPjxwYXRoIGQ9Im0yMzYuOTczIDEwNi44OTJ2NzguNjQ0bC0xNS40NTMgMy45ODZ2LTc1LjI5Nmw2LjQwOS05LjkzeiIvPjxwYXRoIGQ9Im0zMDcuODggODAuNTd2OTAuNjg3bC03LjczNy0xLjk4OC03LjcxNiAxLjk4OHYtOTAuNjk3bDcuNzE2LTcuNDM4eiIvPjxwYXRoIGQ9Im00MjYuNjA4IDEzNi45NDJ2NjQuODkxbC0xNS40NTItMy45NzZ2LTY4LjI1bC4xOTUuMDkzIDguMzEyLTEuMDgxeiIvPjxwYXRoIGQ9Im0zNzguNzc3IDExNC4yMjZ2NzUuMjk2bC0xNS40NTMtMy45ODZ2LTc4LjY0NGw2LjA4OC0zLjYyM3oiLz48L2c+PHBhdGggZD0ibTU2LjI3NyAyMzMuMTA1aDI4Ljc4NHYyNTEuNzIzaC0yOC43ODR6IiBmaWxsPSIjMzY1ZTdkIi8+PHBhdGggZD0ibTU2LjI3NyAyMzMuMTA1aDEzLjY2MXYyNTEuNzIzaC0xMy42NjF6IiBmaWxsPSIjMmI0ZDY2Ii8+PHBhdGggZD0ibTczLjI5OSA0NDYuODQzaC01LjI2Yy0xMi43NTkgMC0yMy4xMDIgMTAuMzQzLTIzLjEwMiAyMy4xMDJ2MTguOTUzYzAgMTIuNzU5IDEwLjM0MyAyMy4xMDIgMjMuMTAyIDIzLjEwMmg1LjI2YzEyLjc1OSAwIDIzLjEwMi0xMC4zNDMgMjMuMTAyLTIzLjEwMnYtMTguOTUzYzAtMTIuNzU5LTEwLjM0My0yMy4xMDItMjMuMTAyLTIzLjEwMnoiIGZpbGw9IiNmZmRkY2UiLz48cGF0aCBkPSJtODEuNDU3IDUxMC41MTFjLTIuNTM0Ljk1OC01LjI4NSAxLjQ4My04LjE1OSAxLjQ4M2gtNS4yNjRjLTEyLjc1NCAwLTIzLjA5Ny0xMC4zNDMtMjMuMDk3LTIzLjA5N3YtMTguOTU1YzAtMTIuNzU0IDEwLjM0My0yMy4wOTcgMjMuMDk3LTIzLjA5N2g1LjI2NGMyLjg3NCAwIDUuNjI1LjUyNSA4LjE1OSAxLjQ4My04LjcyNiAzLjI5Ny0xNC45MzggMTEuNzM0LTE0LjkzOCAyMS42MTN2MTguOTU1YzAgOS44ODEgNi4yMTIgMTguMzE5IDE0LjkzOCAyMS42MTV6IiBmaWxsPSIjZmZjYmJlIi8+PHBhdGggZD0ibTkxLjgyMSAxNjcuNTc5aC00Mi4zMDR2NjYuMzQ5YzAgNS4zNjggNC4zNTEgOS43MTkgOS43MTkgOS43MTloMjIuODY2YzUuMzY4IDAgOS43MTktNC4zNTEgOS43MTktOS43MTl6IiBmaWxsPSIjZWRlNmUzIi8+PHBhdGggZD0ibTc3Ljg0NyAyNDMuNjUzaC0xOC42MTVjLTUuMzY3IDAtOS43MTUtNC4zNDctOS43MTUtOS43MjV2LTY2LjM0NGgxOC42MTV2NjYuMzQ0YzAgNS4zNzggNC4zNDggOS43MjUgOS43MTUgOS43MjV6IiBmaWxsPSIjZDhjZWM5Ii8+PHBhdGggZD0ibTEwOS42OTQgMTU3LjI2OS0xMy4xMjEgMzMuOTEyYy0uNzIgMS44NjEtMi41MTEgMy4wODgtNC41MDYgMy4wODhoLTQyLjc5N2MtMS45OTYgMC0zLjc4Ni0xLjIyNy00LjUwNi0zLjA4OGwtMTMuMTIxLTMzLjkxMmMtMi45My03LjU3Mi0zLjAxNi0xNS45NS0uMjQ0LTIzLjU4MWwyOC44OTctNzkuNTI4YzMuNTIxLTkuNjkgMTcuMjI1LTkuNjkgMjAuNzQ2IDBsMjguODk2IDc5LjUyOGMyLjc3MyA3LjYzMSAyLjY4NiAxNi4wMDgtLjI0NCAyMy41ODF6IiBmaWxsPSIjZWRlNmUzIi8+PHBhdGggZD0ibTcwLjY2IDQ2Ljg5NWMtMS40ODMuMDEtMi45NTcgMi40MzEtMy41NjQgNy4yNjNsLTkuOTQxIDc5LjUzYy0uOTU4IDcuNjM0LS45MjcgMTYuMDA5LjA4MiAyMy41ODFsNC41MTIgMzMuOTE0Yy4yNDcgMS44NjUuODY1IDMuMDkxIDEuNTU2IDMuMDkxaC0xNC4wNDJjLTEuOTg4IDAtMy43ODEtMS4yMjYtNC41MDItMy4wOTFsLTEzLjEyNC0zMy45MTRjLTIuOTI2LTcuNTcyLTMuMDE4LTE1Ljk0Ny0uMjM3LTIzLjU4MWwyOC44ODYtNzkuNTNjMS43NjEtNC44NDIgNi4wNjgtNy4yNjMgMTAuMzc0LTcuMjYzeiIgZmlsbD0iI2Q4Y2VjOSIvPjwvZz48L3N2Zz4="</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also change <code>spec&#8594;icon&#8594;mediatype</code> as follows (one line):</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">"image/svg+xml"</code></pre>
</div>
</div>
<div class="paragraph">
<p>The end result should look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">spec:
  icon:
  - base64data: "PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb..."
    mediatype: "image/svg+xml"</code></pre>
</div>
</div>
<div class="paragraph">
<p>After making changes to the base file you have to run <code>make bundle</code> again to propagate them to the bundle.</p>
</div>
<div class="paragraph">
<p>Open file <code>./config/manifests/base/minerva-operator.clusterserviceversion.yaml</code> and check our changes are there.</p>
</div>
<div class="paragraph">
<p>So far we have generated the bundle, but we need to create an image with it. This is the way we store manifests and metadata contents of individual bundles. Later we will use a tool called <code>opm</code> to build and index with it.</p>
</div>
<div class="paragraph">
<p>Maybe you didn’t notice but as we generated the bundle folder also <code>bundle.Dockerfile</code> was generated. This dockerfile copies the contents of the bundle to the image which is a scratch image (not based on anyone).</p>
</div>
<div class="listingblock">
<div class="title"><strong>LABELS</strong></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-dockerfile hljs" data-lang="dockerfile">FROM scratch

LABEL operators.operatorframework.io.bundle.mediatype.v1=registry+v1
LABEL operators.operatorframework.io.bundle.manifests.v1=manifests/
LABEL operators.operatorframework.io.bundle.metadata.v1=metadata/
LABEL operators.operatorframework.io.bundle.package.v1=minerva-operator
LABEL operators.operatorframework.io.bundle.channels.v1=alpha
LABEL operators.operatorframework.io.bundle.channel.default.v1=
LABEL operators.operatorframework.io.metrics.builder=operator-sdk-v1.0.0
LABEL operators.operatorframework.io.metrics.mediatype.v1=metrics+v1
LABEL operators.operatorframework.io.metrics.project_layout=go.kubebuilder.io/v2
LABEL operators.operatorframework.io.test.config.v1=tests/scorecard/
LABEL operators.operatorframework.io.test.mediatype.v1=scorecard+v1

COPY bundle/manifests /manifests/
COPY bundle/metadata /metadata/
COPY bundle/tests/scorecard /tests/scorecard/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let’s create and push the image. But before, let&#8217;s create a .dockerignore file and add this to it to speed up the building:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat &lt;&lt; EOF &gt;&gt; .dockerignore
./testbin
./bin
.git
./venv
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now execute this commands:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make bundle-build
make bundle-push</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Don’t forget to make the image repository public!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can validate the bundle image like this.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make bundle-validate</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-bundle-index"><a class="anchor" href="#create-bundle-index"></a>Creating the Bundle Index</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Again, first things first&#8230;&#8203; <strong>What’s a Bundle Index?</strong></p>
</div>
<div class="quoteblock">
<div class="title"><strong>From the original <a href="https://github.com/operator-framework/operator-registry#manifest-format">documentation</a> of the Operator Framework</strong></div>
<blockquote>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>OLM has the concept of <strong>CatalogSources</strong> which <strong>define a reference to what packages are available to install onto a cluster</strong>.</p>
</li>
<li>
<p>To make your bundle available, <strong>you can add the bundle to a container image which the CatalogSource points to (&#8658;the bundle index&#8656;)</strong>.</p>
</li>
<li>
<p><strong>This image contains a database of pointers to bundle images</strong> that OLM can pull and extract the manifests from in order to install an operator.</p>
</li>
</ol>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="https://github.com/operator-framework">Operator Framework</a><br>
<cite><a href="https://github.com/operator-framework/operator-registry#building-an-index-of-operators-using-opm">Building and index of operators</a></cite>
</div>
</div>
<div class="paragraph">
<p>The image that follows shows the structure of channels, bundles, bundles indexes and operator images. Let me explain it a little bit.</p>
</div>
<div class="paragraph">
<p>Everything in a round-cornered rectangle is an image, we have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Images containing the binary of our operator, for example: <code>operator-image:v0.0.2</code></p>
</li>
<li>
<p>The we have bundle images, such as <code>operator-bundle:v0.0.2</code>, these contain the manifests corresponding to a given version and in which channels it is visible. It’s important to note that if one version replaces another one it’s stated in one of these manifests, specifically on the CSV.</p>
</li>
<li>
<p>Finally we have bundle indexes images like <code>operator-index:v0.0.2</code> that hold a database which contains the bundles (manifests) of different versions and how they relate and into what channel and an GRPC service you can query.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, I have colored lanes for channels and bundle indexes. So, for instance index <code>operator-index:v0.0.2</code> comprises:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>versions 0.0.1 TO 0.0.4 for alpha channel</p>
</li>
<li>
<p>versions 0.0.2 AND 0.0.4 for beta channel</p>
</li>
<li>
<p>version 0.0.2 for stable channel</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/olm-diagram-1.svg" alt="OLM Registry">
</div>
</div>
<div class="paragraph">
<p>To make your operator available to OLM, you can generate an index image via <code>opm</code> with your bundle reference included. For example:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We’ll install <code>opm</code> later don’t freak out.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">opm index add --bundles {container_registry}/my-container-registry-namespace/my-manifest-bundle:0.0.1 --tag {container_registry}/my-container-registry-namespace/my-index:1.0.0</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>The resulting image is referred to as an ``Index''</strong>. It is an image
which contains a database of pointers to operator manifest content that
is easily queriable via an included API that is served when the
container image is run.</p>
</div>
<div class="paragraph">
<p><strong>Index images are additive</strong>, so you can add a new version of your
operator bundle when you publish a new version. For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">opm index add --bundles quay.io/my-container-registry-namespace/my-manifest-bundle:0.0.2 --from-index quay.io/my-container-registry-namespace/my-index:1.0.0 --tag quay.io/my-container-registry-namespace/my-index:1.0.1</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, it turns out that we need <a href="https://github.com/operator-framework/operator-registry#building-an-index-of-operators-using-opm"><code>opm</code></a> to generate and update images (and the SQLite databases underneath).</p>
</div>
<div class="paragraph">
<p>Let’s install it. <strong>In a new terminal</strong>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
it&#8217;s a new terminal, don&#8217;t forget to <code>export LAB_FOLDER</code> as we did before!
</td>
</tr>
</table>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir -p ${LAB_FOLDER}/tools
cd ${LAB_FOLDER}/tools
git clone https://github.com/operator-framework/operator-registry
cd operator-registry
make
cp ./bin/opm ${LAB_FOLDER}/bin
export PATH=${PATH}:${LAB_FOLDER}/bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>PATH should include <code>${LAB_FOLDER}/bin</code> so you should be able to check <code>opm</code> version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ opm version
Version: version.Version{OpmVersion:"v1.13.8-5-gfa10df6", GitCommit:"fa10df6", BuildDate:"2020-08-28T08:39:05Z", GoOs:"darwin", GoArch:"amd64"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally… we can generate version 0.0.1 or our index including version 0.0.1 of our bundle:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Index versioning is independent… in this `simple' lab we’re aligning bundles and indexes for the sake of simplicity.
</td>
</tr>
</table>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make index-build</code></pre>
</div>
</div>
<div class="paragraph">
<p>If no problems where found let’s push the index image.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make index-push</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Don’t forget to make the image public!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Congratulations you have created your first bundle index, now you can create a CatalogSource. But before you do, you’d have to install OLM in your cluster (unless you’re using OpenShift 4.x, then OLM is already in place).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-olm"><a class="anchor" href="#install-olm"></a>Install OLM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installing (and checking) OLM in a Kubernetes cluster should be a straight forward task. Let’s run first this command to check if OLM it’s already installed. Unless you have already installed OLM or your cluster is an OpenShift cluster you should get this error: `no existing installation found'.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">operator-sdk olm status</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output should look like:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">I0828 10:55:05.539831   32781 request.go:621] Throttling request took 1.048345416s, request: GET:https://127.0.0.1:32776/apis/scheduling.k8s.io/v1beta1?timeout=32s
FATA[0002] Failed to get OLM status: error getting installed OLM version (set --version to override the default version): no existing installation found</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let’s install the latest version.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">operator-sdk olm install</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is the expected output:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">INFO[0000] Fetching CRDs for version "latest"
INFO[0002] Fetching resources for version "latest"
I0828 10:56:45.873946   32784 request.go:621] Throttling request took 1.048694344s, request: GET:https://127.0.0.1:32776/apis/scheduling.k8s.io/v1?timeout=32s
INFO[0008] Creating CRDs and resources
INFO[0008]   Creating CustomResourceDefinition "catalogsources.operators.coreos.com"
INFO[0008]   Creating CustomResourceDefinition "clusterserviceversions.operators.coreos.com"
INFO[0008]   Creating CustomResourceDefinition "installplans.operators.coreos.com"
INFO[0009]   Creating CustomResourceDefinition "operatorgroups.operators.coreos.com"
INFO[0009]   Creating CustomResourceDefinition "subscriptions.operators.coreos.com"
INFO[0009]   Creating Namespace "olm"
INFO[0009]   Creating Namespace "operators"
INFO[0009]   Creating ServiceAccount "olm/olm-operator-serviceaccount"
INFO[0009]   Creating ClusterRole "system:controller:operator-lifecycle-manager"
INFO[0009]   Creating ClusterRoleBinding "olm-operator-binding-olm"
INFO[0009]   Creating Deployment "olm/olm-operator"
INFO[0010]   Creating Deployment "olm/catalog-operator"
INFO[0010]   Creating ClusterRole "aggregate-olm-edit"
INFO[0010]   Creating ClusterRole "aggregate-olm-view"
INFO[0010]   Creating OperatorGroup "operators/global-operators"
INFO[0010]   Creating OperatorGroup "olm/olm-operators"
INFO[0010]   Creating ClusterServiceVersion "olm/packageserver"
INFO[0011]   Creating CatalogSource "olm/operatorhubio-catalog"
INFO[0011] Waiting for deployment/olm-operator rollout to complete
INFO[0011]   Waiting for Deployment "olm/olm-operator" to rollout: 0 of 1 updated replicas are available
INFO[0026]   Deployment "olm/olm-operator" successfully rolled out
INFO[0026] Waiting for deployment/catalog-operator rollout to complete
INFO[0026]   Waiting for Deployment "olm/catalog-operator" to rollout: 0 of 1 updated replicas are available
INFO[0030]   Deployment "olm/catalog-operator" successfully rolled out
INFO[0030] Waiting for deployment/packageserver rollout to complete
INFO[0030]   Waiting for Deployment "olm/packageserver" to rollout: 1 out of 2 new replicas have been updated
INFO[0038]   Waiting for Deployment "olm/packageserver" to rollout: 1 old replicas are pending termination
INFO[0048]   Deployment "olm/packageserver" successfully rolled out
INFO[0048] Successfully installed OLM version "latest"

NAME                                            NAMESPACE    KIND                        STATUS
catalogsources.operators.coreos.com                          CustomResourceDefinition    Installed
clusterserviceversions.operators.coreos.com                  CustomResourceDefinition    Installed
installplans.operators.coreos.com                            CustomResourceDefinition    Installed
operatorgroups.operators.coreos.com                          CustomResourceDefinition    Installed
subscriptions.operators.coreos.com                           CustomResourceDefinition    Installed
olm                                                          Namespace                   Installed
operators                                                    Namespace                   Installed
olm-operator-serviceaccount                     olm          ServiceAccount              Installed
system:controller:operator-lifecycle-manager                 ClusterRole                 Installed
olm-operator-binding-olm                                     ClusterRoleBinding          Installed
olm-operator                                    olm          Deployment                  Installed
catalog-operator                                olm          Deployment                  Installed
aggregate-olm-edit                                           ClusterRole                 Installed
aggregate-olm-view                                           ClusterRole                 Installed
global-operators                                operators    OperatorGroup               Installed
olm-operators                                   olm          OperatorGroup               Installed
packageserver                                   olm          ClusterServiceVersion       Installed
operatorhubio-catalog                           olm          CatalogSource               Installed</code></pre>
</div>
</div>
<div class="paragraph">
<p>Great we’re ready to create a CatalogSource that points to our bundle index.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploy-catalog-source"><a class="anchor" href="#deploy-catalog-source"></a>Deploy a CatalogSource pointing to Bundle Index 0.0.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I have prepared a makefile target called <code>catalog-deploy</code> to do this.</p>
</div>
<div class="paragraph">
<p>But before we can run it we need a CatalogSource template so that we can change the bundle image easily. Let’s create it.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir -p ./config/catalog
cat &lt;&lt; EOF &gt; ./config/catalog/catalog-source.yaml
apiVersion: operators.coreos.com/v1alpha1
kind: CatalogSource
metadata:
  name: atarazana-catalog
spec:
  displayName: Atarazana Operators
  publisher: Atarazana Inc.
  sourceType: grpc
  image: BUNDLE_INDEX_IMG
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we can run the target <code>catalog-deploy</code> which basically substitutes <code>BUNDLE_INDEX_IMG</code> by the value of <code>$(BUNDLE_INDEX_IMG)</code> which is calculated in the makefile itself. Let’s run it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
By default this target will create the CatalogSource in <code>olm</code> namespace. To override: <code>make catalog-deploy CATALOG_NAMESPACE=default</code>
</td>
</tr>
</table>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">make catalog-deploy</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let’s have a look to the <code>CatalogSources</code> in our cluster.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get catalogsources --all-namespaces</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a typical output:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAMESPACE   NAME                    DISPLAY               TYPE   PUBLISHER        AGE
olm         atarazana-catalog       Atarazana Operators   grpc   Atarazana Inc.   41s
olm         operatorhubio-catalog   Community Operators   grpc   OperatorHub.io   86m</code></pre>
</div>
</div>
<div class="paragraph">
<p>Whenever you create a <code>CatalogSource</code> the Catalog Operator creates a pod with its information and a <code>PackageManifest</code> get created as well. Have a look to the <code>PackageManifests</code> for your organization by running this command.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get packagemanifests | grep -i atarazana</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you should get this:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">minerva-operator                        Atarazana Operators   52s</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="catalogsource-testing"><a class="anchor" href="#catalogsource-testing"></a>CatalogSource Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can check if the catalog is working properly doing this:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get pod --all-namespaces | grep atarazana</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">olm           atarazana-catalog-zhnbh            1/1     Running   0          8m11s</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<div class="title"><strong>Optional tests</strong></div>
<p>You need this (or other) GRPC client to run this tests <a href="https://github.com/fullstorydev/grpcurl#installation"><code>grpcurl</code></a>.</p>
</div>
<div class="paragraph">
<p>As the CatalogSource is basically a GRPC REST API to a database containing bundles this test will first port-forward the port this GRPC service listens at, 50051, and second run a query to see if it works properly and the content is as expected.</p>
</div>
<div class="paragraph">
<p>Now with the pod name let’s forward port 50051 to localhost:50051.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl port-forward -n olm atarazana-catalog-zhnbh 50051:50051</code></pre>
</div>
</div>
<div class="paragraph">
<p>From another terminal run this command, pay attention to <code>pkgName</code> its value is the operator name.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">grpcurl -plaintext -d '{"pkgName":"minerva-operator","channelName":"alpha"}' localhost:50051 api.Registry/GetBundleForChannel</code></pre>
</div>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">{
  "csvName": "minerva-operator.v0.0.1",
  "packageName": "minerva-operator",
  "channelName": "alpha",
  "csvJson": "..."
  ],
  "bundlePath": "quay.io/cvicens/minerva-operator-bundle:v0.0.1",
  "providedApis": [
    {
      "group": "minerva.atarazana.com",
      "version": "v1",
      "kind": "AppDefinition",
      "plural": "appdefinitions"
    }
  ],
  "version": "0.0.1",
  "properties": [
    {
      "type": "olm.gvk",
      "value": "{\"group\":\"minerva.atarazana.com\",\"kind\":\"AppDefinition\",\"version\":\"v1\"}"
    },
    {
      "type": "olm.package",
      "value": "{\"packageName\":\"minerva-operator\",\"version\":\"0.0.1\"}"
    }
  ]
}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-operator-with-kubectl-plugin"><a class="anchor" href="#install-operator-with-kubectl-plugin"></a>Install your operator with a kubectl plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to install the operator you can choose between:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>using <code>kubectl-operator</code> plugin</p>
</li>
<li>
<p>using OLM console (if your cluster is OpenShift)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here we’re going to use <code>kubectl-operator</code> because our cluster is <code>minikube</code>. So the first step is installing it. In a new terminal:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir -p ${LAB_FOLDER}/tools
cd ${LAB_FOLDER}/tools
git clone https://github.com/operator-framework/kubectl-operator
cd kubectl-operator
make
cp ./bin/kubectl-operator ${LAB_FOLDER}/bin
export PATH=${PATH}:${LAB_FOLDER}/tools</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let’s check our operator kubectl plugin is in place and working.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl operator list-available minerva-operator</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should get something like:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                 CATALOG              CHANNEL  LATEST CSV                  AGE
minerva-operator  Atarazana Operators  alpha    minerva-operator.v0.0.1  21m</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let’s create a namespace to install our operator.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl create ns operator-tests</code></pre>
</div>
</div>
<div class="paragraph">
<p>And let’s install it there:</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl operator -n operator-tests install minerva-operator --create-operator-group -v v0.0.1</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see several objects will be created: the <code>OperatorGroup</code> that defines &#8230;&#8203; the <code>Subscription</code> and the <code>Operator</code> itself.</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">operatorgroup "operator-tests" created
subscription "minerva-operator" created
operator "minerva-operator" installed; installed csv is "minerva-operator.v0.0.1"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let’s check if it’s been installed.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl operator list</code></pre>
</div>
</div>
<div class="paragraph">
<p>Check the expected result:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">PACKAGE              SUBSCRIPTION         INSTALLED CSV               CURRENT CSV                 STATUS         AGE
minerva-operator  minerva-operator  minerva-operator.v0.0.1  minerva-operator.v0.0.1  AtLatestKnown  76s</code></pre>
</div>
</div>
<div class="paragraph">
<p>Check the operator&#8217;s pod is up and running.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get pod -n operator-tests</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-cr"><a class="anchor" href="#create-cr"></a>Create an AppDefinition CR</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to test our operator we have to create our sample <code>CR</code>.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl apply -n operator-tests -f ./config/samples/minerva_v1_appdefinition.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>If all has gone according to plan the <code>Controller</code> reconciliation loop should be receiving events and Memcached pods should be created… in fact, as many as <code>spec&#8594;size</code> states.</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl get pod -n operator-tests</code></pre>
</div>
</div>
<div class="paragraph">
<p>And here&#8217;s the expected output:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">NAME                                                      READY   STATUS    RESTARTS   AGE
appdefinition-sample-bf69d6cdf-rk4v5                         1/1     Running   0          14s
appdefinition-sample-bf69d6cdf-znj4w                         1/1     Running   0          14s
minerva-operator-controller-manager-589d887cf7-whpt6   2/2     Running   0          3m46s</code></pre>
</div>
</div>
<div class="paragraph">
<p>Great you have tested version 0.0.1 of your operator running
automatically through the
<a href="https://github.com/operator-framework/operator-lifecycle-manager">Operator
Lifecycle Manager</a>.</p>
</div>
<div class="paragraph">
<div class="title">Branching tagging version 0.0.1</div>
<p>We’ve reached a milestone, let’s create a branch for it (I know, maybe a tag would be better… no problem if you decide to do it with a tag).</p>
</div>
<div class="listingblock console-input">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git add .dockerignore bundle* config
git commit -a -m "0.0.1 ok"

git checkout -b 0.0.1
git checkout master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Well done, let&#8217;s continue with the evolution of our operator!</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="05-running-your-operator-locally.html" class="query-params-link">Running your operator locally</a></span>
  <span class="next"><a href="07-evolving-your-operator.html" class="query-params-link">Evolving your operator</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../../_/js/vendor/clipboard.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
